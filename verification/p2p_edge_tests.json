[
  {
    "name": "1.1_idle_to_open",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "1.2_open_to_matched",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "1.3_matched_to_proving",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": true,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 100,
        "proof_seller_id": 1,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 3,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "1.4_proving_to_verified",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": true,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": true,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 3,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 3,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 4,
        "escrowed_amount": 1000,
        "release_buyer": true,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "2.1_matched_timeout",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 5,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 10,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 7,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": true,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "2.2_proving_timeout",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 5,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": true,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 10,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 3,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 7,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": true,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "2.3_timeout_boundary",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 5,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 5,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 6,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 7,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": true,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "3.1_dispute_buyer_wins",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": true,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": true,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 3,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 4,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": true,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 3,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 6,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 5,
        "escrowed_amount": 0,
        "release_buyer": true,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "3.2_dispute_seller_wins",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": true,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": true,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 3,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 4,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": true,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 3,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 6,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 7,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": true,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "4.1_seller_cancels_open",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": true,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 7,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": true,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "4.2_cancel_blocked_after_match",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": true,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "5.1_zkp_invalid",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": true,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": true,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 3,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 3,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 7,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": true,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "5.2_zkp_conflicting_signals",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": true,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": true,
        "zkp_invalid": true,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 3,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 3,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 4,
        "escrowed_amount": 1000,
        "release_buyer": true,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "6.1_zero_amount",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 0,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 0,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "6.2_max_amount",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 4294967295,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 4294967295,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "6.3_fee_calculation",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 10000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": true,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": true,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 3,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 10000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 3,
        "escrowed_amount": 10000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 4,
        "escrowed_amount": 10000,
        "release_buyer": true,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "7.1_settled_absorbing",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": true,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": true,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 3,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 4,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": true,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 5,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 3,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 5,
        "escrowed_amount": 0,
        "release_buyer": true,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 5,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 5,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "7.2_cancelled_absorbing",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": true,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 3,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 7,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": true,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 7,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 7,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "8.1_double_match",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 3,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "8.2_double_proof",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": true,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": true,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 3,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 3,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 3,
        "escrowed_amount": 1000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  },
  {
    "name": "10.1_complete_happy_path",
    "inputs": [
      {
        "order_id": 0,
        "sell_amount": 10000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": true,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 0,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": true,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 1,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": true,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": false,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 1000,
        "proof_seller_id": 1,
        "proof_timestamp": 0,
        "current_time": 2,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      },
      {
        "order_id": 0,
        "sell_amount": 1000,
        "buy_amount": 100,
        "seller_id": 1,
        "buyer_id": 2,
        "create_order": false,
        "match_order": false,
        "submit_proof": false,
        "cancel_order": false,
        "dispute": false,
        "zkp_valid": true,
        "zkp_invalid": false,
        "proof_payment_id": 0,
        "proof_amount": 0,
        "proof_seller_id": 0,
        "proof_timestamp": 0,
        "current_time": 3,
        "lock_duration": 10,
        "dispute_duration": 20,
        "dispute_resolved_buyer": false,
        "dispute_resolved_seller": false,
        "fee_bps": 30
      }
    ],
    "expected": [
      {
        "state": 1,
        "escrowed_amount": 0,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 2,
        "escrowed_amount": 10000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 3,
        "escrowed_amount": 10000,
        "release_buyer": false,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      },
      {
        "state": 5,
        "escrowed_amount": 0,
        "release_buyer": true,
        "refund_seller": false,
        "funds_safe": true,
        "no_double_release": true,
        "state_valid": true
      }
    ]
  }
]